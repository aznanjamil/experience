/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.37
 */
import{r as i,c as t,h as s,g as e}from"./p-db9a72ae.js";import{J as h,i as a}from"./p-9bad2661.js";import{r,c as o,a as c}from"./p-6f9e9741.js";import{o as n}from"./p-46abb093.js";const d=class{constructor(s){i(this,s),this.arcgisLegendReady=t(this,"arcgisLegendReady",7),this._watchHandles=[],this.referenceElement=void 0,this.activeLayerInfos=void 0,this.basemapLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.icon=void 0,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibilityDisabled=!1,this.legendStyle="classic",this.layerInfos=void 0,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(i){r(this,i)}activeLayerInfosWatcher(i){this.widget&&(this.widget.activeLayerInfos=i)}basemapLegendVisibleWatcher(i){void 0!==i&&this.widget&&(this.widget.basemapLegendVisible=i)}hideLayersNotInCurrentViewWatcher(i){void 0!==i&&this.widget&&(this.widget.hideLayersNotInCurrentView=i)}iconWatcher(i){this.widget&&this.widget.icon!==i&&(this.widget.icon=i)}respectLayerDefinitionExpressionWatcher(i){void 0!==i&&this.widget&&(this.widget.respectLayerDefinitionExpression=i)}respectLayerVisibilityDisabledWatcher(i){void 0!==i&&this.widget&&(this.widget.respectLayerVisibility=!i)}styleWatcher(i){void 0!==i&&this.widget&&(this.widget.style=i)}layerInfosWatcher(i){this.widget&&(this.widget.layerInfos=i)}positionWatcher(i){void 0!==i&&this.widget&&this.view.ui.move(this.childElem,i)}viewWatcher(i){void 0!==i&&this.widget&&(this.widget.view=i)}async componentDidLoad(){const i=this._createParams(),t=await h(i);this.widget=t,await this._addWatchers(),this._addContainer(),this.arcgisLegendReady.emit(),o(this)}disconnectedCallback(){n(this)}render(){return s("div",{ref:i=>this.childElem=i})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:i}=await a();c(this,[i((()=>this.widget.activeLayerInfos),(i=>{this.activeLayerInfos=i}))])}_createParams(){const i={};return this.activeLayerInfos&&(i.activeLayerInfos=this.activeLayerInfos),void 0!==this.basemapLegendVisible&&(i.basemapLegendVisible=this.basemapLegendVisible),void 0!==this.hideLayersNotInCurrentView&&(i.hideLayersNotInCurrentView=this.hideLayersNotInCurrentView),this.icon&&(i.icon=this.icon),void 0!==this.respectLayerDefinitionExpression&&(i.respectLayerDefinitionExpression=this.respectLayerDefinitionExpression),void 0!==this.respectLayerVisibilityDisabled&&(i.respectLayerVisibility=!this.respectLayerVisibilityDisabled),this.legendStyle&&(i.style=this.legendStyle),this.layerInfos&&(i.layerInfos=this.layerInfos),this.view&&(i.view=this.view),i}get el(){return e(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],activeLayerInfos:["activeLayerInfosWatcher"],basemapLegendVisible:["basemapLegendVisibleWatcher"],hideLayersNotInCurrentView:["hideLayersNotInCurrentViewWatcher"],icon:["iconWatcher"],respectLayerDefinitionExpression:["respectLayerDefinitionExpressionWatcher"],respectLayerVisibilityDisabled:["respectLayerVisibilityDisabledWatcher"],legendStyle:["styleWatcher"],layerInfos:["layerInfosWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};d.style="";export{d as arcgis_legend}