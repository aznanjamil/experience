/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.8.5
 */
import { toHaveNoViolations } from "jest-axe";
import { getTagAndPage } from "./utils";
expect.extend(toHaveNoViolations);
/**
 * Helper for asserting that a property's value is its default
 *
 * Note that this helper should be used within a describe block.
 *
 * @example
 * describe("defaults", () => {
 *    defaults("calcite-action", [
 *      {
 *        propertyName: "active",
 *        defaultValue: false
 *      },
 *      {
 *        propertyName: "appearance",
 *        defaultValue: "solid"
 *      }
 *    ])
 * })
 *
 * @param {string} componentTagOrHTML - the component tag or HTML markup to test against
 * @param componentTestSetup
 * @param {object[]} propsToTest - the properties to test
 * @param {string} propsToTest.propertyName - the property name
 * @param {any} propsToTest.value - the property value
 */
export function defaults(componentTestSetup, propsToTest) {
    it.each(propsToTest.map(({ propertyName, defaultValue }) => [propertyName, defaultValue]))("%p", async (propertyName, defaultValue) => {
        const { page, tag } = await getTagAndPage(componentTestSetup);
        const element = await page.find(tag);
        const prop = await element.getProperty(propertyName);
        expect(prop).toEqual(defaultValue);
    });
}
//# sourceMappingURL=defaults.js.map
